# 旅行プランナーアプリ - 画面遷移図

## 全体構成

```
┌─────────────────────────────────────────────────────────────┐
│                    旅行プランナーアプリ                        │
└─────────────────────────────────────────────────────────────┘
```

## 1. 認証フロー

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  スプラッシュ  │───▶│   ログイン   │───▶│   ホーム    │
│   画面      │    │   画面      │    │   画面      │
└─────────────┘    └─────────────┘    └─────────────┘
       │                   │                   │
       │                   │                   │
       ▼                   ▼                   ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  ユーザー    │    │  パスワード  │    │  新規登録   │
│  登録画面    │    │  リセット    │    │  画面      │
└─────────────┘    └─────────────┘    └─────────────┘
```

## 2. メイン画面遷移

```
┌─────────────┐
│   ホーム    │
│   画面      │
└─────────────┘
       │
       ├───▶ 投稿詳細画面
       ├───▶ 投稿作成画面
       ├───▶ 検索画面
       ├───▶ プロフィール画面
       └───▶ お気に入り画面
```

## 3. 詳細な画面遷移

### ホーム画面からの遷移

```
┌─────────────┐
│   ホーム    │
│   画面      │
│            │
│ • 最新投稿一覧 │
│ • おすすめ投稿 │
│ • ナビゲーション│
└─────────────┘
       │
       ├───▶ ┌─────────────┐
       │     │  投稿詳細   │
       │     │   画面      │
       │     │            │
       │     │ • 旅行記詳細 │
       │     │ • 写真ギャラリー│
       │     │ • コメント  │
       │     │ • お気に入り │
       │     └─────────────┘
       │
       ├───▶ ┌─────────────┐
       │     │  投稿作成   │
       │     │   画面      │
       │     │            │
       │     │ • タイトル入力│
       │     │ • 内容入力  │
       │     │ • 写真アップロード│
       │     │ • タグ付け  │
       │     └─────────────┘
       │
       ├───▶ ┌─────────────┐
       │     │   検索      │
       │     │   画面      │
       │     │            │
       │     │ • キーワード検索│
       │     │ • フィルター │
       │     │ • 地図検索  │
       │     └─────────────┘
       │
       ├───▶ ┌─────────────┐
       │     │  プロフィール│
       │     │   画面      │
       │     │            │
       │     │ • ユーザー情報│
       │     │ • 投稿履歴  │
       │     │ • 設定      │
       │     └─────────────┘
       │
       └───▶ ┌─────────────┐
             │  お気に入り │
             │   画面      │
             │            │
             │ • 保存した投稿│
             │ • ブックマーク│
             │ • 履歴      │
             └─────────────┘
```

## 4. 投稿作成フロー

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  投稿作成    │───▶│  写真選択   │───▶│  タグ付け   │
│   画面      │    │   画面      │    │   画面      │
└─────────────┘    └─────────────┘    └─────────────┘
       │                   │                   │
       │                   │                   │
       ▼                   ▼                   ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  下書き保存  │    │  カメラ撮影 │    │  投稿完了   │
│   画面      │    │   画面      │    │   画面      │
└─────────────┘    └─────────────┘    └─────────────┘
```

## 5. 検索・フィルター機能

```
┌─────────────┐
│   検索      │
│   画面      │
└─────────────┘
       │
       ├───▶ ┌─────────────┐
       │     │  キーワード │
       │     │   検索結果  │
       │     └─────────────┘
       │
       ├───▶ ┌─────────────┐
       │     │  地図検索   │
       │     │   画面      │
       │     └─────────────┘
       │
       ├───▶ ┌─────────────┐
       │     │  フィルター │
       │     │   設定画面  │
       │     │            │
       │     │ • 予算      │
       │     │ • 季節      │
       │     │ • 期間      │
       │     │ • カテゴリ  │
       │     └─────────────┘
       │
       └───▶ ┌─────────────┐
             │  検索結果   │
             │   一覧      │
             └─────────────┘
```

## 6. プロフィール・設定画面

```
┌─────────────┐
│  プロフィール│
│   画面      │
└─────────────┘
       │
       ├───▶ ┌─────────────┐
       │     │  プロフィール│
       │     │   編集画面  │
       │     └─────────────┘
       │
       ├───▶ ┌─────────────┐
       │     │  投稿履歴   │
       │     │   画面      │
       │     └─────────────┘
       │
       ├───▶ ┌─────────────┐
       │     │  フォロー   │
       │     │   一覧      │
       │     └─────────────┘
       │
       ├───▶ ┌─────────────┐
       │     │  設定画面   │
       │     │            │
       │     │ • 通知設定  │
       │     │ • プライバシー│
       │     │ • アカウント│
       │     └─────────────┘
       │
       └───▶ ┌─────────────┐
             │  ログアウト │
             │   確認画面  │
             └─────────────┘
```

## 7. AI 提案機能（将来的）

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  AI提案     │───▶│  要望入力   │───▶│  提案結果   │
│   画面      │    │   画面      │    │   画面      │
└─────────────┘    └─────────────┘    └─────────────┘
       │                   │                   │
       │                   │                   │
       ▼                   ▼                   ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  提案履歴   │    │  詳細設定   │    │  プラン保存 │
│   画面      │    │   画面      │    │   画面      │
└─────────────┘    └─────────────┘    └─────────────┘
```

## 8. ナビゲーション構造

### ボトムナビゲーション

```
┌─────────┬─────────┬─────────┬─────────┬─────────┐
│  ホーム  │  検索   │  投稿   │  お気   │  プロ   │
│         │         │  作成   │  に入り │  フィール│
└─────────┴─────────┴─────────┴─────────┴─────────┘
```

### ヘッダーナビゲーション

```
┌─────────────────────────────────────────────────┐
│  [ロゴ]  旅行プランナー  [通知] [メニュー] [プロフィール] │
└─────────────────────────────────────────────────┘
```

## 9. エラー・例外画面

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  404エラー  │    │  ネットワーク│    │  メンテナンス│
│   画面      │    │   エラー    │    │   画面      │
└─────────────┘    └─────────────┘    └─────────────┘
       │                   │                   │
       ▼                   ▼                   ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  ホームに   │    │  再試行     │    │  後で再試行 │
│  戻る      │    │   ボタン    │    │   ボタン    │
└─────────────┘    └─────────────┘    └─────────────┘
```

## 10. 画面遷移の優先度

### Phase 1（MVP）

1. **認証フロー** - ログイン・登録
2. **ホーム画面** - 投稿一覧表示
3. **投稿詳細画面** - 旅行記の詳細表示
4. **投稿作成画面** - 基本的な投稿機能

### Phase 2（機能拡張）

1. **検索機能** - キーワード・フィルター検索
2. **プロフィール機能** - ユーザー情報管理
3. **お気に入り機能** - ブックマーク・保存

### Phase 3（高度な機能）

1. **AI 提案機能** - 要望に応じた旅行プラン提案
2. **地図機能** - 地図ベースの検索
3. **ソーシャル機能** - フォロー・コメント

---

## 技術的な考慮事項

### レスポンシブデザイン

- **モバイルファースト**の設計
- **タブレット・デスクトップ**対応

### パフォーマンス

- **画像の最適化**（WebP 形式対応）
- **遅延読み込み**（Lazy Loading）
- **キャッシュ機能**

### セキュリティ

- **認証・認可**の適切な実装
- **XSS・CSRF 対策**
- **データの暗号化**

---

**この画面遷移図を基に、次のステップとして ER 図の作成に進みましょうか？** 🗺️
